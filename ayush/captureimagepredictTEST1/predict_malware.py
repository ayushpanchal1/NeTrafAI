from keras.models import load_model

def load_and_predict(image_path, model_path='cnn_model.h5'):
    # Load the pre-trained model
    model = load_model(model_path)

    # Process the image and predict malware
    image = preprocess_image(image_path)  # Add your image preprocessing here
    prediction = model.predict(image)

    return prediction
